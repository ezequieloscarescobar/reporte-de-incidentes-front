<table class="table table-striped">
  <thead>
    <th>Cliente</th>
    <th>Fecha incidente</th>
    <th>Cerrado</th>
    <th>Acciones</th>
  </thead>
  <tbody>
    <tr *ngFor="let incidente of incidentes" >
      <td>{{ incidente.razon_social }}</td>
      <td>{{ incidente.fecha_alta }}</td>
      <td>{{ incidente.fecha_cerrado != null? 'Si' : 'No' }}</td>
      <td>
        <span><a routerLink='/incidentes/{{ incidente.id }}'><i class="fa fa-eye"></i></a></span>
        <span><a><i class="fa fa-edit" (click)='cambiarDeEstado(content, incidente)'></i></a></span>
      </td>
    </tr>
  </tbody>
</table>


<ng-template #content let-modal>
  <div class="modal-header d-block">
    <div class="row">
      <div class="col-12">
        <p class="color1"><strong>Cambiar de estado al Incidente</strong></p>
      </div>
    </div>
  </div>
  <div class="modal-body text-center">
    <div class="form-group">
      <label>Estado</label>
      <select class="form-control"
      [(ngModel)]="estadoSeleccionado"
      [ngModelOptions]="{standalone: true}">
        <option *ngFor="let estado of estados" [ngValue]='estado.id'>{{ estado.nombre}}</option>
      </select>
    </div>
    <div class="form-group">
      <label>Consideraciones</label>
      <textarea class="form-control" [(ngModel)]="consideraciones"></textarea>
    </div>
  </div>
  <div class="modal-footer justify-content-center" ngbAutofocus>
    <button type="button" class="btn btn-primary-inverse" data-dismiss="modal" (click)="modal.dismiss()">Cancelar</button>
    <button type="button" class="btn btn-primary" (click)="modal.close()">Aceptar</button>
  </div>
</ng-template>
